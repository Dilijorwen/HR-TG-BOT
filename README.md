## HR-бот «Кандидат за 3 минуты»

*Руководство для тех, кто не программирует*

---

### 1.  Что это такое и зачем

* **HR-бот** общается с кандидатами в Telegram вместо рекрутёра: задаёт вопросы, собирает контакты и сохраняет ответы в таблицу.
* **Экономия времени** — первые 5-7 минут «рутинного» разговора бот берёт на себя, а к вам попадают уже заполненные анкеты.

---

### 2.  Из чего состоит папка проекта

| Папка / файл           | Простыми словами                                                 |
| ---------------------- | ---------------------------------------------------------------- |
| **bot/**               | «Мозги» бота.                       |
| **bot/scenarios.yml**  | Главное! Здесь все вакансии и их вопросы. HR может править сам.  |
| **db/01\_init.sql**    | «Чёрный ящик» — начальная таблица для ответов. Трогать не нужно. |
| **docker-compose.yml** | Файл-кнопка «Запусти всё».                                       |
| **Dockerfile**         | Упаковка кода в контейнер (нужен только при первом запуске).     |
| **requirements.txt**   | Список библиотек (бот читает, HR — нет).                         |

---

### 3.  Как запустить — пошагово

1. **Скачайте** содержимое проекта в любую папку на компьютере.

2. Установите **Docker Desktop** (один раз).

3. Создайте файл **.env** (точка env) рядом с `docker-compose.yml` и вставьте две строки:

   ```
   TG_TOKEN=ваш_токен_бота_из_BotFather
   DATABASE_URL=postgresql://hr:hrpass@db:5432/hrdb
   ```

4. Откройте терминал/PowerShell в этой папке и выполните:

   ```bash
   docker compose up -d --build
   ```

   *Первый запуск строит контейнеры \~2-3 минуты; дальше — секунды.*

5. В Telegram напишите боту ссылку вида

   ```
   /start QA_Engineer
   ```

   (или другой код вакансии из `scenarios.yml`). Бот ответит и задаст вопросы.

---

### 4.  Как изменить вопросы или добавить вакансию

1. Откройте файл **bot/scenarios.yml** любым текстовым редактором (VS Code, Notepad++, даже Блокнот).

2. Найдите нужную вакансию по коду:

   ```yaml
   QA_Engineer:
     title: Инженер-тестировщик
     intro: |
       …описание…
     questions:
       - id: full_name
         text: "Как Вас зовут?"
       - id: phone
         text: "Номер телефона"
         keyboard: "ask_phone"
       # …добавляйте новые вопросы здесь…
   ```

3. Чтобы **добавить** позицию — просто скопируйте блок и измените текст.

4. Сохраните файл — **ничего перезапускать не нужно**: бот подхватит изменения при следующем запуске команды `/start`.

---

### 5.  Где смотреть ответы кандидатов

1. В терминале выполните:

   ```bash
   docker compose exec db psql -U hr -d hrdb -c \
     "SELECT vacancy, answers, created_at FROM candidates ORDER BY created_at DESC;"
   ```

2. Появится таблица: в колонке **answers** хранится вся анкета в удобном формате.

*(Если хочется Excel — любой технический коллега легко сделает экспорт.)*

---

### 6.  Частые вопросы

| Вопрос                                                | Короткий ответ                                                                                                               |
| ----------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| **Нужно ли знать Python?**                            | Нет. Всё, что может понадобиться HR-менеджеру, лежит в `scenarios.yml`.                                                      |
| **Что делать, если бот «молчит»?**                    | В терминале — `docker compose logs -f bot`. Если увидите слово `ERROR`, дайте его коллеге-технику или напишите разработчику. |
| **Как остановить бота?**                              | `docker compose down` — все контейнеры выключатся, данные сохранятся.                                                        |
| **Бот должен работать на другом компьютере/сервере.** | Скопируйте всю папку + `.env`, поставьте Docker, запустите команду `docker compose up -d --build`.                           |

---

### 7.  Контакты разработчика

Если понадобится помощь с установкой, экспортом данных или добавлением новых функций, пишите:
**email:** [dev@example.com](mailto:dev@example.com) | **Telegram:** @devsupport\_bot

---

> **Бот готов к работе.** Всё, что нужно HR-специалисту — открыть `scenarios.yml`, настроить вопросы и разослать кандидатам ссылку `/start <код_вакансии>`. Удачных наймов!
